"use strict";(self.webpackChunkfisthero_ui=self.webpackChunkfisthero_ui||[]).push([[920],{1871:function(e,t,r){r.d(t,{R:function(){return a},n:function(){return c}});var s=r(9751),n=(r(7313),r(6417));function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.currency,r=e.value;return t?r?new s.x(t,r).format({suffix:" "+t.ticker}):"0 "+t.ticker:"-"}var c=function(e){return(0,n.jsx)(n.Fragment,{children:a(e.asset)})}},6920:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var s=r(7186),n=r(3430),a=r(7313),c=r(9560),i=r(6321),l=r(7504),o=r(8805),m=r(1843),u=r(8197),d=r(9624),x=r(646),f=r(3690),p=r(9491),h=r(1114),v=r(6487),g=r(9184),b=r(3032),j=r(4322),w=r.n(j),A=r(56),k=r(5574),N=r(7998),y=r(1736),D=r(1895),Z=r(8955),S=r(658),P=r.n(S);function T(e,t){return function(e,t){var r=(0,N.K)().account,s=(0,A.useQueryClient)();return(0,A.useQuery)([t,{account:r}],(0,b.Z)(w().mark((function n(){var a,c,l,o,u,d,x;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(0,h.Kc)(e),(0,h.Kc)(r),n.next=4,e.getIdoConfig(r);case 4:return a=n.sent,n.next=7,e.getSoldByAccount(r||D.d);case 7:return c=n.sent,l=new y.W(v.AA,a.supportedToken.totalSold),n.next=11,e.checkIsApproved();case 11:return o=n.sent,u=new y.W(v.AA,a.supportedToken.maxPurchasePerAccount),(0,Z.f)("maxCanPurchaseBUSDAmount",a.supportedToken.maxPurchasePerAccount.toString()),n.next=16,e.claimStartTime();case 16:return d=n.sent,n.next=19,e.getClaimable(r);case 19:return x=n.sent,n.abrupt("return",{config:a,accountIdoAmount:c,totalIdoSoldAmount:l,isApproved:o,maxCanPurchaseBUSDAmount:u,claimStartTime:d,claimableAmount:x,isWithinIdoPeriod:P()().isAfter(a.startTime)&&P()().isBefore(a.endTime),idoProcess:a.supportedToken.processRate.toNumber(),approve:function(){var r=(0,b.Z)(w().mark((function r(){var n;return w().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.approveToken();case 2:return n=r.sent,r.next=5,s.invalidateQueries(t);case 5:return r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),purchase:function(){var r=(0,b.Z)(w().mark((function r(n){var a;return w().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a="",o){r.next=7;break}return r.next=4,e.approveToken();case 4:return r.next=6,s.invalidateQueries(t);case 6:m.Z.success({message:"Approve USDT Succeed"});case 7:if(!n.gt(i._Y)){r.next=14;break}return r.next=10,e.purchase(n);case 10:return a=r.sent,r.next=13,s.invalidateQueries(t);case 13:return r.abrupt("return",a);case 14:throw new Error("Empty Amount");case 15:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),claim:function(){var t=(0,b.Z)(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.claim();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 21:case"end":return n.stop()}}),n)}))),{enabled:!!r&&!!e,refetchInterval:1e3})}(e,t)}var B,F,C,I=r(3557),U=r(1871),W=r(1491),R=r(2388),K=r(6417),E=function(){var e=(0,N.K)().account,t=T((0,k.k0)(),"queryIdo"),r=t.data,s=t.isLoading,g=(0,a.useState)(""),b=(0,n.Z)(g,2),j=b[0],w=b[1],D=(0,W.m)(v.AA.address,e),Z=(0,A.useMutation)((function(){return(0,h.Kc)(r),r.purchase((0,R.parseUnits)(j||"0",r.config.supportedToken.token.decimals))}),{onSuccess:function(){m.Z.success({message:"Purchase succeed"}),w("")},onError:function(e){var t;return m.Z.error({message:"Purchase failed",description:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message})}}),S=Z.mutateAsync,B=Z.isLoading;if(s)return(0,K.jsx)(o.gb,{});return(0,K.jsxs)("div",{className:"mb-[10rem]",children:[(0,K.jsx)("div",{className:"md:mt-[5rem] mt-[1rem]",children:r&&P()().isBefore(r.config.startTime)&&(0,K.jsx)(o.IT,{targetDatetime:r.config.startTime})}),(0,K.jsxs)(u.Z,{className:"mb-[10rem] flex justify-center items-start py-10 px-20 mx-auto h-[30rem] w-screen md:w-[75rem] md:h-[50rem] md:mt-[5rem] mt-[2rem] bg-[url(/public/assets/ido/bg-launch.png)] bg-center bg-cover bg-no-repeat",children:[(0,K.jsxs)(d.Z,{xs:24,sm:24,md:16,lg:16,className:"md:w-full w-screen md:mt-[2rem] mt-[0.1rem] flex flex-col justify-center items-center",children:[(0,K.jsx)(Q,{className:"drop-shadow-lg w-full text-[#FFDDA8] md:text-5xl text-3xl text-center md:text-start",children:"Launch Process"}),(0,K.jsxs)(u.Z,{gutter:10,className:"md:mt-[3rem] mt-[1rem] md:w-full w-screen text-[#FFDDA8] md:text-2xl text-lg flex justify-center items-center",children:[(0,K.jsxs)(d.Z,{xs:8,sm:8,md:8,lg:8,className:"flex flex-col justify-center md:items-start items-center",children:[(0,K.jsx)("div",{className:"md:text-[#28170B] text-[#FFDDA8] md:text-lg text-sm",children:"Sold in current"}),(0,K.jsx)("div",{className:"text-[#8B3131]",children:r&&(0,U.R)(r.totalIdoSoldAmount)})]}),(0,K.jsxs)(d.Z,{xs:8,sm:8,md:8,lg:8,className:"flex flex-col justify-center md:items-start items-center",children:[(0,K.jsx)("div",{className:"md:text-[#28170B] text-[#FFDDA8] md:text-lg text-sm",children:"Available for sale"}),(0,K.jsx)("div",{className:"text-[#8B3131]",children:r&&(0,U.R)(new y.W(v.AA,r.config.supportedToken.totalSupply.sub(r.config.supportedToken.totalSold)))})]}),(0,K.jsxs)(d.Z,{xs:8,sm:8,md:8,lg:8,className:"flex flex-col justify-center md:items-start items-center",children:[(0,K.jsx)("div",{className:"md:text-[#28170B] text-[#FFDDA8] md:text-lg text-sm",children:"Total sale"}),(0,K.jsx)("div",{className:"text-[#8B3131]",children:r&&(0,U.R)(new y.W(v.AA,r.config.supportedToken.totalSupply))})]})]}),(0,K.jsx)("div",{className:"md:w-full w-screen mt-[3rem]",children:(0,K.jsxs)("div",{className:"relative md:w-9/12 w-[17rem] mx-auto md:right-[2.8rem]",children:[(0,K.jsx)("img",{className:"md:block hidden  absolute left-[-0.7rem] top-[-0.2rem] h-[2rem] w-[31.7rem]",src:(0,h.vg)("ido/bg-process.png"),alt:"process"}),r&&(0,K.jsx)(x.Z,{strokeLinecap:"butt",strokeWidth:16,trailColor:window.innerWidth>768?"transparent":"#FFDDA8",strokeColor:"linear-gradient(-225deg, #CBBACC 0%, #2580B3 100%)",percent:r.idoProcess>=99?100:r.idoProcess,showInfo:!0})]})})]}),(0,K.jsx)(d.Z,{xs:24,sm:24,md:8,lg:8,className:"flex flex-col justify-center items-center",children:(0,K.jsxs)("div",{className:"flex flex-col items-center justify-center mx-auto md:w-[20rem]  h-[15rem] md:w-[26rem] md:h-[37rem] md:bg-[url(/public/assets/ido/bg-ido-info.png)] bg-center bg-contain bg-no-repeat",children:[(0,K.jsxs)("div",{className:"flex flex-col justify-between items-center md:w-[15rem] h-[9.4rem] mt-[-4.2rem] text-[#8B3131] text-lg",children:[(0,K.jsxs)("div",{className:"w-full",children:[(0,K.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,K.jsx)("div",{children:(0,K.jsx)(I.xv,{tid:"offering-price"})}),(0,K.jsx)("div",{children:"0.003 USDT"})]}),(0,K.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,K.jsx)("div",{children:(0,K.jsx)(I.xv,{tid:"max-purchasable"})}),r&&(0,U.R)(r.maxCanPurchaseBUSDAmount)]})]}),(0,K.jsxs)("div",{className:"w-full",children:[(0,K.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,K.jsx)("div",{children:(0,K.jsx)(I.xv,{tid:"balance"})}),D&&(0,K.jsx)("div",{children:(0,U.R)(new y.W(v.AA,D))})]}),(0,K.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,K.jsx)("div",{children:(0,K.jsx)(I.xv,{tid:"amount"})}),(0,K.jsx)(_,{className:"block",children:(0,K.jsx)(f.Z,{className:"ba b--gray h-[1.5rem] text-xl ",value:j,onChange:function(e){return(/^\d*(\.\d*)?$/.test(e.target.value)||""===e.target.value)&&w(e.target.value)},placeholder:"USDT",suffix:(0,K.jsx)(p.Z,{className:"text-[#8B3131]",size:"small",type:"link",onClick:function(){if((0,h.Kc)(r),D){var e=D;e.eq(i._Y)||(e.gt(r.maxCanPurchaseBUSDAmount.value)&&(e=c.O$.from(r.maxCanPurchaseBUSDAmount.value)),w((0,R.formatEther)(e)))}},children:"MAX"})})})]})]})]}),(0,K.jsx)("div",{className:"absolute md:bottom-[10rem] bottom-[0.1rem] ",children:(0,K.jsx)(l.X,{loading:B,disabled:!1,size:"large",className:"bg-[url(/public/assets/hero/button-open-left.png)] bg-contain bg-no-repeat bg-center w-[11rem] md:text-xl",onClick:function(){return S()},children:(0,K.jsxs)(L,{className:"text-xl text-[#FFDDA8] font-extrabold drop-shadow-xl",children:[!(null!==r&&void 0!==r&&r.isApproved)&&"Approve",r&&r.isApproved&&"Purchase"]})})}),(0,K.jsxs)("div",{className:"absolute md:bottom-[8rem] bottom-[-1rem] md:text-[#FFDDA8] text-[#8B3131]",children:["Purchased: ",r&&(0,R.formatEther)(r.config.userPurchasedAmount)," USDT"]}),(0,K.jsx)("div",{className:"absolute md:bottom-[6rem] bottom-[-2rem] md:text-[#FFDDA8] text-[#8B3131]",children:(0,K.jsx)(I.xv,{tid:"only-buy-once"})})]})})]})]})},Q=g.ZP.div(B||(B=(0,s.Z)(["\n  -webkit-text-stroke: 1.4px black;\n"]))),L=g.ZP.div(F||(F=(0,s.Z)(["\n  -webkit-text-stroke: 1.1px black;\n"]))),_=g.ZP.div(C||(C=(0,s.Z)(["\n  width: 11rem;\n\n  input.ant-input::placeholder {\n    color: rgba(144, 157, 175, 0.84);\n  }\n\n  @media (max-width: 768px) {\n    width: 70%;\n  }\n"])))}}]);