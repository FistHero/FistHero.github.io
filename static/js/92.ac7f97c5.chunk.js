"use strict";(self.webpackChunkfisthero_ui=self.webpackChunkfisthero_ui||[]).push([[92],{9092:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r=n(3032),s=n(3430),i=n(7186),a=n(4322),c=n.n(a),l=n(7313),o=(n(9560),n(8552)),u=(n(6321),n(9466)),x=n(7890),d=n(7504),m=n(8805),f=n(1843),h=n(7575),p=n(874),b=n(513),g=n(8197),v=n(3690),j=n(9491),w=n(9624),N=n(3912),y=n(7998),Z=n(1114),k=n(6487),F=n(9751),D=n(6417);function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.currency,n=e.value;return t?n?new F.x(t,n).format({suffix:" "+t.ticker}):"0 "+t.ticker:"-"}var C,B=function(e){return(0,D.jsx)(D.Fragment,{children:I(e.asset)})},S=n(9184),T=n(1361),A=n(8955),P=n(56),M=n(8489),_=n(508),E="opening",W="end",K=(0,Z.vg)("hero/nftbox_1.png"),L=(0,Z.vg)("hero/nftbox_2.png"),X=(0,Z.vg)("hero/nftbox_3.png"),O=function(e){return(0,D.jsx)(_.Z,(0,M.Z)((0,M.Z)({},e),{},{src:e.status===E?L:e.status===W?X:K,autoPlay:!0,isOneTime:e.status===W}))},z=n(3557),R=n(4412),$=n(1733),q=n.n($),G=n(2388),H=S.ZP.div(C||(C=(0,i.Z)(["\n  width: 40%;\n  input.ant-input::placeholder {\n    color: rgba(69, 73, 80, 0.81);\n  }\n\n  @media (max-width: 768px) {\n    width: 70%;\n  }\n"]))),J=function(){var e=(0,y.K)().account,t=(0,u.lr)(),n=(0,s.Z)(t,1)[0],i=(0,T.u)(),a=i.data,F=i.isLoading,C=(0,l.useState)(!1),S=(0,s.Z)(C,2),M=S[0],K=S[1],L=(0,l.useState)(""),X=(0,s.Z)(L,2),$=X[0],J=X[1],Q=(0,l.useState)(!1),U=(0,s.Z)(Q,2),V=U[0],Y=U[1],ee=(0,l.useState)([]),te=(0,s.Z)(ee,2),ne=te[0],re=te[1],se=((0,x.s0)(),(0,P.useMutation)((0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Z.Kc)(a),(0,A.f)("open Box inviter",oe),e.next=4,a.buyAndOpenBoxesWithInviter(Number($),oe);case 4:return t=e.sent,Y(!0),e.next=8,(0,Z.gk)(500);case 8:return re(t.map((function(e){return e.toString()}))),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),{onError:function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.Z.error({message:"open box failed",description:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),ie=(se.mutate,se.isLoading),ae=(0,P.useMutation)((0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Z.Kc)(a),e.next=3,a.openBoxes(Number($));case 3:if(!(t=e.sent)){e.next=9;break}return Y(!0),e.next=8,(0,Z.gk)(500);case 8:re(t.map((function(e){return e.toString()})));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),{onError:function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.Z.error({message:"open box failed",description:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ce=ae.mutate,le=ae.isLoading,oe=(0,l.useMemo)((function(){var e=n.get("inviter");return e&&o.isAddress(e)?e:""}),[n]);if(!e)return(0,D.jsx)("div",{className:"flex justify-center items-center mt-[20rem]",children:(0,D.jsx)(m.pB,{type:"primary"})});if(F||!a)return(0,D.jsx)("div",{className:"h-screen flex justify-center bg-[#28170B] items-center text-white py-20",children:(0,D.jsx)(_.Z,{className:"block absolute top-[25%] z-10 md:w-[30rem] w-[20rem] object-center",autoPlay:!0,src:(0,Z.vg)("loading.png"),alt:"Loading"})});var ue=function(e){return a&&e in a.config.NFTInfoMap?q()((0,G.formatEther)(a.config.NFTInfoMap[e].hashPower)).format("0,0"):"-"},xe=function(e){return a&&e in a.config.NFTInfoMap?a.config.NFTInfoMap[e].name:"-"};return(0,D.jsxs)("div",{className:"px-4 container mx-auto",children:[(0,D.jsx)("div",{className:"h-32 flex justify-center mx-auto text-center bg-[url(/public/assets/hero/hero-title-bar.png)] bg-no-repeat bg-center bg-contain mt-6 text-2xl",children:(0,D.jsxs)("span",{className:"inline-block mt-16 text-[#FFDDA8] font-bold",children:[" ",(0,D.jsx)(z.xv,{tid:"hero-box"})," "]})}),a.config.sellingStartTime>0&&!a.isWithinSellingPeriod&&e&&(0,D.jsx)(m.IT,{targetDatetime:a.config.sellingStartTime}),(0,D.jsx)(g.Z,{justify:"center",className:"md:mt-4 mt-[1rem] h-100 flex justify-center items-center bg-[url(/public/assets/hero/bg-box.png)] bg-no-repeat bg-center bg-contain",children:(0,D.jsx)(O,{status:V?W:ie||le?E:"before",className:"block w-11/12 md:w-9/12 center"})}),(0,D.jsx)(g.Z,{gutter:16,justify:"center",className:"flex justify-center mt3 mt4-ns w-full",children:(0,D.jsx)("div",{className:"flex flex-wrap flex-nowrap-ns justify-center w-full mb-[20rem]",children:(0,D.jsxs)(H,{children:[(0,D.jsx)(v.Z,{className:"ba b--gray mr-2 mb-2 mt-2 h-10 text-1xl",disabled:ie||le,value:$,onChange:function(e){return(/^[1-9]\d*$/.test(e.target.value)||""===e.target.value)&&J(e.target.value)},placeholder:"Boxes Count",suffix:(0,D.jsx)(j.Z,{size:"small",type:"link",onClick:function(){(0,Z.Kc)(a);var e=a.config.boxes;e>10&&(e=10),J(e.toString())},children:"MAX"})}),(0,D.jsxs)(g.Z,{className:"w-full flex justify-between",children:[(0,D.jsx)(w.Z,{sm:12,md:12,lg:10,children:(0,D.jsxs)("div",{className:"text-[#FFDDA8] w-auto text-[0.7rem] md:text-[1rem]",children:[(0,D.jsx)(z.xv,{tid:"box-price"}),": ",I(a.config.purchasePrice)]})}),(0,D.jsx)(w.Z,{sm:12,md:12,lg:10,className:"",children:(0,D.jsxs)("div",{className:"text-[#FFDDA8] w-auto text-[0.7rem] md:text-[1rem] inline-block",children:[(0,D.jsx)(z.xv,{tid:"boxes"}),": "+a.config.boxes,(0,D.jsx)("a",{href:"https://fstswap.exchange/#/swap?inputCurrency=BNB&outputCurrency=0xC9882dEF23bc42D53895b8361D0b1EDC7570Bc6A",target:"_blank",rel:"noreferrer",children:(0,D.jsx)("div",{className:"text-[#FFDDA8] w-auto text-[0.7rem] md:text-[1rem] inline-block cursor-pointer hover:underline",children:"( Buy FIST )"})})]})})]}),!a.isInWhitelist&&(0,D.jsx)("div",{className:"fixed inset-0 bg-black/60","aria-hidden":"true"}),(0,D.jsxs)("div",{className:"mt-4 w-full flex items-center",children:[a.isInWhitelist?(0,D.jsxs)(d.X,{loading:ie||le,className:"text-white bg-[url(/public/assets/hero/button-open-left.png)] bg-contain bg-no-repeat bg-center px-4 py-4 w-6/12 md:text-2xl text-xs",type:"primary",onClick:(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce();case 1:case"end":return e.stop()}}),e)}))),disabled:!a.buyBoxTokenBalance||!$,children:[(ie||le)&&(a.isApproved,"Opening..."),(0,D.jsx)(z.xv,{tid:"open-box"})]}):(0,D.jsx)(d.X,{disabled:!a.buyBoxTokenBalance||!$,className:"text-white bg-[url(/public/assets/hero/button-open-left.png)] bg-contain bg-no-repeat bg-center px-4 py-4 w-6/12 md:text-2xl text-xs",children:"Not Whitelist"}),(0,D.jsx)(d.X,{className:"bg-[url(/public/assets/hero/button-open-right.png)] bg-contain bg-no-repeat bg-center px-4 py-4 w-6/12 md:text-2xl text-xs text-white",type:"primary",onClick:function(){return K(!0)},disabled:!0,children:(0,D.jsx)(z.xv,{tid:"invitation"})})]})]})})}),(0,D.jsxs)(N.Z,{style:{background:"#000"},visible:M,onCancel:function(){return K(!1)},footer:null,closable:!1,children:[function(){if(!a||!a.inviteesInfo)return(0,D.jsx)(h.ZP,{loading:!0});var e=a.inviteesInfo,t=e.reward,n=e.rewardClaimed,r=e.invitees,s=e.rewardsForInviter;if(!r)return(0,D.jsx)(h.ZP.Item,{children:(0,D.jsx)("div",{children:"No Invitees"})});for(var i=[],c=0;c<r.length;c++)i.push((0,D.jsxs)(h.ZP.Item,{children:[(0,D.jsx)(p.Z.Text,{className:"gray w-40",children:(0,D.jsx)(b.Z,{title:r[c],children:(0,Z.ro)(r[c])})}),(0,D.jsx)("div",{className:"text-[#FFDDA8] w-30",children:s[c].div(k.bf.mul(6)).toNumber()}),(0,D.jsx)("div",{className:"text-[#FFDDA8] w-30",children:(0,D.jsx)(B,{asset:{currency:k.lC,value:s[c]}})})]},c));return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(h.ZP,{children:[(0,D.jsxs)("div",{className:"bn",children:[(0,D.jsx)("span",{className:"gray w-77 mr2 fw8",children:"Total Reward"}),(0,D.jsxs)("span",{className:"text-[#FFDDA8] w-20 fw8",children:[" ",(0,D.jsx)(B,{asset:{currency:k.lC,value:t}})," "]})]}),(0,D.jsxs)("div",{className:"bn",children:[(0,D.jsx)("span",{className:"gray w-77 mr2 fw8",children:"Claimed"}),(0,D.jsxs)("span",{className:"text-[#FFDDA8] w-20 fw8",children:[" ",(0,D.jsx)(B,{asset:{currency:k.lC,value:n}})," "]})]}),(0,D.jsxs)(h.ZP.Item,{children:[(0,D.jsx)("div",{className:"gray w-40 fw8",children:"My Invitees"}),(0,D.jsx)("div",{className:"text-[#FFDDA8] w-30 fw8",children:"Bought Boxes"}),(0,D.jsx)("div",{className:"text-[#FFDDA8] w-30 fw8",children:"Invite Reward"})]}),i]})})}(),(0,D.jsx)("div",{className:"bb border-yellow-900 mt3 mb3"}),(0,D.jsx)(p.Z.Text,{copyable:{text:"https://fisthero.com/#/hero/box?inviter=".concat(e)},children:(0,D.jsx)(b.Z,{title:"invitation link",children:(0,Z.ro)("https://fisthero.com/#/hero/box?inviter=".concat(e),48)})}),(0,D.jsx)("div",{className:"mt3 mb3"})]}),(0,D.jsxs)(N.Z,{visible:V&&ne.length>0,maskStyle:{background:"rgba(0,0,0,.95)"},width:800,footer:null,closable:!1,children:[(0,D.jsx)(g.Z,{gutter:24,justify:"center",children:ne.map((function(e){return(0,D.jsx)(w.Z,{xs:12,sm:12,md:6,lg:6,className:"mb-4",children:(0,D.jsx)(R.F,{className:"w-[10.2rem] hover:cursor-pointer",NFTInfo:((0,A.f)("tokenIdStr",e,xe(e)),{name:xe(e),tokenId:e,hashPower:ue(e),attack:"-",isStaked:!1,isSelected:!1}),enableSelect:!1,toggleNFT:function(){}})},e)}))}),(0,D.jsx)(j.Z,{onClick:function(){Y(!1),re([])},className:"center mw5 tc db shadow-3",block:!0,type:"primary",children:(0,D.jsx)(z.xv,{tid:"collect"})})]})]})}}}]);