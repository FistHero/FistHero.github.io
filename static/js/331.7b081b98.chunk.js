"use strict";(self.webpackChunkfisthero_ui=self.webpackChunkfisthero_ui||[]).push([[331],{9331:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var r=s(3430),n=s(7313),i=s(8197),a=s(9624),l=s(1114),c=s(3557),m=s(5531),o=s(4967),d=s(1843),x=s(3912),u=s(7671),f=s(874),g=s(513),h=s(8955),b=s(1361),j=s(56),v=s(3122),p=s(1733),w=s.n(p),N=s(6749),F=s(4412),D=s(8805),y=s(6417),k=function(e){var t=e.isOpen,s=e.setIsOpen,p=(0,o.p)(),k=p.data,A=(p.isLoading,(0,b.u)()),Z=A.data,S=(A.isLoading,(0,n.useState)([])),T=(0,r.Z)(S,2),I=T[0],E=T[1],M=(0,n.useState)(1),C=(0,r.Z)(M,2),H=C[0],P=C[1],L=Z&&k?Z.nftIds.filter((function(e){return!k.stakedNFTs.includes(e)})):[],O=(0,j.useMutation)((function(){return(0,l.Kc)(k),I||d.Z.info({message:"No Selected Hero"}),k.stakeNFT(I)}),{onSuccess:function(){d.Z.success({message:"Stake Succeed"}),E([])},onError:function(e){var t;return d.Z.error({message:"Stake Failed",description:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message})}}),z=O.mutateAsync,U=O.isLoading,K=(0,j.useMutation)((function(){return(0,l.Kc)(Z),Z.generateAttack()}),{onSuccess:function(){d.Z.success({message:"generate Attacks Succeed"})},onError:function(e){var t;return d.Z.error({message:"generate Attacks Failed",description:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message})}}),B=(K.mutateAsync,K.isLoading,(0,j.useMutation)((function(){return(0,l.Kc)(k),I||d.Z.error({message:"No Selected Hero"}),k.withdrawNFT(I)}),{onSuccess:function(){d.Z.success({message:"Withdraw Succeed"}),E([])},onError:function(e){var t;return d.Z.error({message:"Withdraw Failed",description:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message})}})),R=B.mutateAsync,W=B.isLoading;if(!k)return null;if(!Z)return(0,y.jsx)(D.gb,{});var _=L.concat(k.stakedNFTs),$=window.innerWidth>768?6:2,q=_.sort((function(e,t){var s=Z.config.NFTInfoMap[e].hashPower,r=Z.config.NFTInfoMap[t].hashPower;return s.gt(r)?-1:1})),G=function(e){E((function(t){if(t.includes(e)){var s=(0,m.Z)(t);return(0,h.f)(s.filter((function(t){return t!==e}))),s.filter((function(t){return t!==e}))}return(0,h.f)([].concat((0,m.Z)(t),[e])),[].concat((0,m.Z)(t),[e])}))},J=function(e){return Z&&e in Z.config.NFTInfoMap?w()((0,N.formatEther)(Z.config.NFTInfoMap[e].hashPower)).format("0,0"):"-"},Q=function(e){return Z&&e in Z.config.NFTInfoMap?w()((0,N.formatEther)(Z.config.NFTInfoMap[e].attack)).format("0,0"):"-"},V=function(e){return Z&&e in Z.config.NFTInfoMap?Z.config.NFTInfoMap[e].name:"-"},X=function(e){return Z&&e in Z.config.NFTInfoMap?Z.config.NFTInfoMap[e].rarity:"-"};return(0,y.jsx)(x.Z,{visible:t,onCancel:function(){return s(!1)},className:"gaming relative z-50",width:1200,footer:null,closable:!1,children:(0,y.jsx)("div",{className:"flex items-center justify-center p-4 mx-auto md:mt-0 mt-[-5rem]",children:(0,y.jsxs)(i.Z,{gutter:30,className:"flex justify-center items-center",children:[(0,y.jsxs)(a.Z,{xs:24,sm:24,md:24,lg:12,className:"px-6 py-7 relative w-[25rem] h-[23.5rem] md:w-[45rem] md:h-[36rem] flex flex-col justify-center items-center  bg-[url(/public/assets/mining/bg-select-hero.png)] bg-contain bg-center bg-no-repeat",children:[(0,y.jsx)("div",{className:"absolute top-[5%] md:text-3xl  text-lg text-[#28170B] font-extrabold\tstroke-current",children:(0,y.jsx)(c.xv,{tid:"hero-collection"})}),(0,y.jsx)(i.Z,{gutter:10,justify:"start",className:"flex relative top-[1.5rem] md:h-[29rem] md:w-[32rem] h-[14rem] w-[21.5rem] overflow-hidden scroll",children:q.slice((H-1)*$,H*$).map((function(e,t){return(0,y.jsx)(a.Z,{xs:12,sm:12,md:8,lg:8,className:"flex justify-center items-center mb-2",children:(0,y.jsx)(F.F,{className:"w-[9.6rem] hover:cursor-pointer",NFTInfo:{name:V(e),rarity:X(e),tokenId:e,hashPower:J(e),attack:Q(e),isStaked:k&&k.stakedNFTs.includes(e),isSelected:I.includes(e)},enableSelect:!0,toggleNFT:G})},e+t)}))}),(0,y.jsx)(u.Z,{className:"absolute bottom-[1rem] z-999",size:"small",pageSize:$,total:_.length,onChange:function(e){return P(e)},current:H,hideOnSinglePage:!1,showSizeChanger:!1})]}),(0,y.jsxs)(a.Z,{xs:24,sm:24,md:24,lg:12,className:"relative w-[25rem] h-[25rem] md:w-[38rem] md:h-[36rem] flex flex-col justify-center items-center bg-[url(/public/assets/mining/bg-staking.png)] bg-contain bg-center bg-no-repeat",children:[(0,y.jsx)("div",{className:"absolute top-[6.5%] md:text-3xl  text-xl  text-[#28170B] font-extrabold\tstroke-current shadow-red drop-shadow-lg",children:(0,y.jsx)(c.xv,{tid:"mining-center"})}),(0,y.jsxs)("div",{className:"w-9/12 mt-10 flex flex-col justify-center items-center",children:[(0,y.jsxs)("div",{className:"px-3 mb-2 md:w-[24rem] w-[17rem] md:h-[3rem] h-[1.7rem]  flex justify-between items-center bg-[#FFDDA8] text-[#68452D] rounded-lg border-current border-2",children:[(0,y.jsx)("div",{className:"md:text-2xl text-lg text-[#68452D]",children:(0,y.jsx)(c.xv,{tid:"total-power"})}),(0,y.jsxs)("div",{className:"text-[#FF2E00]",children:[" ",w()((0,N.formatEther)(k.farmInfo.totalHashPower)).format("0,0")," "]})]}),(0,y.jsxs)("div",{className:"px-3 mb-2 md:w-[24rem] w-[17rem] md:h-[3rem]  h-[1.7rem] flex justify-between items-center bg-[#FFDDA8] text-[#68452D] rounded-lg border-current border-2",children:[(0,y.jsx)("div",{className:"md:text-2xl text-lg text-[#68452D]",children:(0,y.jsx)(c.xv,{tid:"my-basic-power"})}),(0,y.jsxs)("div",{className:"text-[#FF2E00]",children:[" ",w()((0,N.formatEther)(k.farmInfo.userHashPower)).format("0,0")," "]})]}),(0,y.jsxs)("div",{className:"px-3 mb-2 md:w-[24rem] w-[17rem] md:h-[3rem]  h-[1.7rem] flex justify-between items-center bg-[#FFDDA8] text-[#68452D] rounded-lg border-current border-2",children:[(0,y.jsx)("div",{className:"md:text-2xl text-lg text-[#68452D]",children:(0,y.jsx)(c.xv,{tid:"my-power"})}),(0,y.jsxs)("div",{className:"text-[#FF2E00]",children:[(0,y.jsx)("span",{children:w()((0,N.formatEther)(k.farmInfo.realHashPower)).format("0,0")}),"(",(0,y.jsx)(f.Z.Text,{children:(0,y.jsx)(g.Z,{title:(0,y.jsxs)("div",{className:"flex flex-col justify-between items-start",children:[(0,y.jsx)("div",{children:(0,y.jsx)(c.xv,{tid:"rule-content"})}),(0,y.jsx)("div",{children:(0,y.jsx)(c.xv,{tid:"rule-content-condition"})}),(0,y.jsxs)("div",{className:"mt-2 ml-2 w-7/12 flex justify-between items-center",children:[(0,y.jsx)("div",{className:"text-[#FFDDA8]",children:">= 350"}),(0,y.jsx)("div",{className:"text-[#00A660]",children:"+6%"})]}),(0,y.jsxs)("div",{className:"mt-2 ml-2 w-7/12 flex justify-between items-center",children:[(0,y.jsx)("div",{className:"text-[#FFDDA8]",children:">= 500"}),(0,y.jsx)("div",{className:"text-[#00A660]",children:"+12%"})]}),(0,y.jsxs)("div",{className:"mt-2 ml-2 w-7/12 flex justify-between items-center",children:[(0,y.jsx)("div",{className:"text-[#FFDDA8]",children:">= 1000"}),(0,y.jsx)("div",{className:"text-[#00A660]",children:"+26%"})]})]}),children:(0,y.jsx)("span",{className:"text-[#00A660] underline",children:"+".concat(w()(k.farmInfo.hashPowerPercent.toNumber()/1e4).format("0,0%"))})})}),")"]})]}),(0,y.jsxs)("div",{className:"px-3 mb-2 md:w-[24rem] w-[17rem] md:h-[3rem]  h-[1.7rem] flex justify-between items-center bg-[#FFDDA8] text-[#68452D] rounded-lg border-current border-2",children:[(0,y.jsx)("div",{className:"md:text-2xl text-lg text-[#68452D]",children:(0,y.jsx)(c.xv,{tid:"staked-count"})}),(0,y.jsxs)("div",{className:"text-[#FF2E00]",children:[" ",k.stakedNFTs.length," "]})]}),(0,y.jsxs)("div",{className:"md:text-xl text-lg text-[#FFDDA8] font-extrabold md:w-[20rem] md:h-[4.3rem] w-[17rem] h-[3.5rem] flex flex-col justify-center items-center  bg-[url(/public/assets/mining/button-pink.png)] bg-contain bg-center bg-no-repeat cursor-pointer",onClick:function(){return z()},children:[U&&(0,y.jsx)(v.fCD,{className:"animate-spin inline-block mx-auto"}),!U&&(0,y.jsx)(c.xv,{tid:"stake"})]}),(0,y.jsxs)("div",{className:"md:text-xl text-lg text-[#FFDDA8] font-extrabold\t md:h-[4.3rem] w-[15rem] h-[3.5rem] flex flex-col justify-center items-center  bg-[url(/public/assets/mining/button-gray.png)] bg-contain bg-center bg-no-repeat cursor-pointer",onClick:function(){return R()},children:[W&&(0,y.jsx)(v.fCD,{className:"animate-spin inline-block mx-auto"}),!W&&(0,y.jsx)(c.xv,{tid:"withdraw"})]})]})]})]})})})},A=function(e){var t=e.isOpen,s=e.setIsOpen,r=(0,o.p)(),n=r.data,m=(r.isLoading,(0,j.useMutation)((function(){return(0,l.Kc)(n),n.harvestUSDT()}),{onSuccess:function(){d.Z.success({message:"Harvest USDT Succeed"})},onError:function(e){var t;return d.Z.error({message:"Harvest USDT Failed",description:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message})}})),u=m.mutateAsync,f=m.isLoading,g=(0,j.useMutation)((function(){return(0,l.Kc)(n),n.harvest()}),{onSuccess:function(){d.Z.success({message:"Harvest Succeed"})},onError:function(e){var t;return d.Z.error({message:"Harvest Failed",description:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message})}}),h=g.mutateAsync,b=g.isLoading;return n?(0,y.jsx)(x.Z,{visible:t,onCancel:function(){return s(!1)},footer:null,closable:!1,className:"gaming relative z-50",children:(0,y.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,y.jsx)("div",{className:"mx-auto ",children:(0,y.jsxs)("div",{className:"relative w-[25rem] h-[23.5rem] md:w-[45rem] md:h-[36rem] flex flex-col justify-center items-center  bg-[url(/public/assets/mining/bg-staking.png)] bg-contain bg-center bg-no-repeat",children:[(0,y.jsx)("div",{className:"absolute top-[6.5%] md:text-3xl  text-xl  text-[#28170B] font-extrabold\tstroke-current shadow-red drop-shadow-lg",children:(0,y.jsx)(c.xv,{tid:"reward"})}),(0,y.jsxs)("div",{className:"w-9/12 mt-10 flex flex-col justify-center items-center",children:[(0,y.jsxs)(i.Z,{gutter:10,className:"flex justify-center items-center mb-4",children:[(0,y.jsxs)(a.Z,{xs:8,sm:8,md:8,lg:8,className:"flex flex-col justify-center items-center",children:[(0,y.jsx)("img",{className:"w-[5rem] block",src:(0,l.vg)("mining/logo-fist.png"),alt:"FHT"}),(0,y.jsx)("div",{className:"drop-shadow-xs mt-2 text-[#FF2E00] font-bold text-xl ring-3",children:w()((0,N.formatEther)(n.farmInfo.claimable)).format("0,0")})]}),(0,y.jsx)(a.Z,{xs:8,sm:8,md:8,lg:8,className:"flex flex-col justify-center items-center text-3xl text-[#FFDDA8]",children:(0,y.jsx)(c.xv,{tid:"or"})}),(0,y.jsxs)(a.Z,{xs:8,sm:8,md:8,lg:8,className:"flex flex-col justify-center items-center",children:[(0,y.jsx)("img",{className:"w-[4.3rem] block",src:(0,l.vg)("mining/USDT.png"),alt:"USDT"}),(0,y.jsx)("div",{className:"drop-shadow-xs mt-2 text-[#00A660] font-black text-xl ring-3",children:w()((0,N.formatEther)(n.farmInfo.claimable.mul(3).div(1e3))).format("0,0")})]})]}),(0,y.jsxs)("div",{className:"px-3 mb-2 md:w-[24rem] w-[17rem] md:h-[3rem]  h-[1.7rem] flex justify-between items-center bg-[#FFDDA8] text-[#68452D] rounded-lg border-current border-2",children:[(0,y.jsx)("div",{className:"md:text-2xl text-lg text-[#68452D]",children:(0,y.jsx)(c.xv,{tid:"my-power"})}),(0,y.jsxs)("div",{className:"text-[#00A660]",children:[" ",w()((0,N.formatEther)(n.farmInfo.realHashPower)).format("0,0")," "]})]}),(0,y.jsxs)("div",{className:"px-3 mb-2 md:w-[24rem] w-[17rem] md:h-[3rem]  h-[1.7rem] flex justify-between items-center bg-[#FFDDA8] text-[#68452D] rounded-lg border-current border-2",children:[(0,y.jsx)("div",{className:"md:text-2xl text-lg text-[#68452D]",children:(0,y.jsx)(c.xv,{tid:"history-reward"})}),(0,y.jsxs)("div",{className:"text-[#00A660]",children:["$",w()((0,N.formatEther)(n.rewardsMap.historyReward)).format("0,0")]})]}),(0,y.jsxs)("div",{className:"px-3 mb-2 md:w-[24rem] w-[17rem] md:h-[3rem]  h-[1.7rem] flex justify-between items-center bg-[#FFDDA8] text-[#68452D] rounded-lg border-current border-2",children:[(0,y.jsx)("div",{className:"md:text-2xl text-lg text-[#68452D]",children:(0,y.jsx)(c.xv,{tid:"staked-count"})}),(0,y.jsxs)("div",{className:"text-[#FF2E00]",children:[" ",n.stakedNFTs.length," "]})]}),(0,y.jsxs)("div",{className:"flex flex-row justify-center items-center mb-2",children:[(0,y.jsxs)("div",{className:"md:text-xl text-md  text-[#FFDDA8] font-extrabold md:w-[12rem] md:h-[4.7rem] w-[10rem] h-[3.6rem]  flex flex-col justify-center items-center  bg-[url(/public/assets/mining/button-claim-1.png)] bg-contain bg-center bg-no-repeat cursor-pointer",onClick:function(){return h()},children:[b&&(0,y.jsx)(v.fCD,{className:"animate-spin inline-block mx-auto"}),!b&&(0,y.jsx)(c.xv,{tid:"claim-FHT"})]}),(0,y.jsxs)("div",{className:"align-bottom md:text-xl text-md text-center  text-[#FFDDA8] font-extrabold md:w-[12rem] md:h-[4.7rem] w-[10rem] h-[3.6rem]  flex flex-col justify-center items-center  bg-[url(/public/assets/mining/button-claim-2.png)] bg-contain bg-center bg-no-repeat cursor-pointer",onClick:function(){return u()},children:[f&&(0,y.jsx)(v.fCD,{className:"animate-spin inline-block mx-auto"}),!f&&(0,y.jsx)(c.xv,{tid:"claim-USDT"})]})]})]})]})})})}):null},Z=s(6487),S=s(658),T=s.n(S),I=function(){var e=(0,o.p)(),t=e.data,s=(e.isLoading,(0,n.useState)(!1)),m=(0,r.Z)(s,2),d=m[0],x=m[1],u=(0,n.useState)(!1),f=(0,r.Z)(u,2),g=f[0],h=f[1];return t?(0,y.jsxs)("div",{className:"px-4 container mx-auto",children:[(0,y.jsx)("div",{className:"h-32 flex justify-center mx-auto text-center bg-[url(/public/assets/mining/title-mining.png)] bg-no-repeat bg-center bg-contain mt-6 ",children:(0,y.jsx)("span",{className:"inline-block mt-16 text-[#FFDDA8] font-bold md:text-2xl text-xl",children:(0,y.jsx)(c.xv,{tid:"mining"})})}),(0,y.jsx)("div",{className:"mx-auto w-[20rem] h-[15rem] md:w-[80rem] md:h-[60rem] md:mt-[-1rem] md:bg-[url(/public/assets/mining/bg-mining.png)] md:bg-center md:bg-contain md:bg-no-repeat",children:(0,y.jsx)(i.Z,{gutter:20,className:"flex justify-start-ns justify-center items-center",children:(0,y.jsxs)(a.Z,{xs:24,sm:24,md:8,lg:8,className:"md:mt-[7rem] md:ml-[2rem] w-[16rem] h-[26rem] bg-[url(/public/assets/mining/mining-card.png)] bg-no-repeat bg-center bg-contain",children:[(0,y.jsx)("div",{className:"relative top-[1.1rem] mx-auto text-center text-[#FFDDA8] text-md",children:(0,y.jsx)(c.xv,{tid:"nft-mining"})}),(0,y.jsxs)("div",{className:"absolute top-[32%] left-[50%] mx-auto md:w-[24%] w-[28%] h-[30%] flex flex-col justify-between items-center",children:[(0,y.jsxs)("div",{className:"w-full text-center flex justify-between items-center text-[#FFDDA8]",children:[(0,y.jsx)("div",{children:"APR"}),(0,y.jsx)("div",{children:function(){if(!t)return"";if(T()().isBefore(t.farmInfo.startTime))return"7,300.0%";var e=t.farmInfo.apr;return e.gt(Z.bf.mul(1e3))?"> 100,000%":w()((0,N.formatEther)(e)).format("0,0.0%")}()})]}),(0,y.jsxs)("div",{className:"w-full text-center flex justify-between items-center text-[#FFDDA8]",children:[(0,y.jsx)("img",{className:"block w-auto h-[2.3rem]",src:(0,l.vg)("mining/hero-power.png"),alt:"button-yellow"}),(0,y.jsx)("div",{className:"text-xs",children:"Hero Power"})]}),(0,y.jsxs)("div",{className:"w-full text-center flex justify-between items-center text-[#FFDDA8]",children:[(0,y.jsx)("img",{className:"block w-auto h-[1.6rem]",src:(0,l.vg)("mining/coin.png"),alt:"button-yellow"}),(0,y.jsx)("div",{className:"text-xs",children:"Mining Reward"})]})]}),(0,y.jsxs)("div",{className:"absolute bottom-[15%] md:left-[24%] left-[17%] flex justify-center items-center md:w-6/12 w-[14rem] mx-auto",children:[(0,y.jsx)("div",{className:"mx-auto w-[70%] h-[2.5rem] leading-9 md:text-[1rem] text-[0.6rem] text-[#FFDDA8] bg-[url(/public/assets/mining/button-green.png)] bg-center bg-contain text-center cursor-pointer",onClick:function(){return x(!0)},children:(0,y.jsx)(c.xv,{tid:"stake-unstake"})}),(0,y.jsx)("div",{className:"drop-shadow-lg shadow-red mx-auto w-[70%] h-[2.5rem] leading-9  md:text-[1rem] text-[0.6rem] text-[#FFDDA8] bg-[url(/public/assets/mining/button-yellow.png)] bg-center bg-contain text-center cursor-pointer",onClick:function(){return h(!0)},children:(0,y.jsx)(c.xv,{className:"drop-shadow-lg shadow-xl shadow-red",tid:"harvest"})})]})]})})}),(0,y.jsx)(k,{isOpen:d,setIsOpen:x}),(0,y.jsx)(A,{isOpen:g,setIsOpen:h})]}):(0,y.jsx)(D.gb,{})}}}]);